<div data-ng-controller="HostingOrderSslCtrl as ctrl">
    <div data-wizard
         data-wizard-bread-crumb
         data-wizard-on-cancel="resetAction"
         data-wizard-on-finish="makeOrder"
         data-wizard-title="i18n.hosting_dashboard_service_order_ssl">

        <div data-wizard-step
             data-wizard-step-valid="ctrl.sslType != null"
             data-wizard-step-on-next="createCertif">

            <form name="hostingOrderSslForm">

                <oui-radio text="{{::tr('hosting_dashboard_ssl_order_free')}}"
                        disabled="!ctrl.validDomain"
                        model="ctrl.sslType"
                        name="hosting-ssl"
                        value="'letsencrypt'" checked>
                </oui-radio>

                <oui-radio text="{{::tr('hosting_dashboard_ssl_order_payable')}}"
                        disabled="!ctrl.validDomain"
                        model="ctrl.sslType"
                        name="hosting-ssl"
                        value="'payable'">
                </oui-radio>

                <oui-radio text="{{::tr('hosting_dashboard_ssl_order_import')}}"
                        disabled="!ctrl.validDomain"
                        model="ctrl.sslType"
                        name="hosting-ssl"
                        value="'import'">
                </oui-radio>
            </form>

            <div class="alert alert-warning mt-5" role="alert"
                 data-i18n-static="hosting_ssl_regenerate_info_warning">
            </div>
            <div class="alert alert-info" role="alert"
                 data-ng-bind-html="tr('hosting_ssl_limit_characters_info_warning', [ctrl.Validator.MAX_DOMAIN_LENGTH])">
            </div>
        </div>


        <div data-wizard-step
             data-wizard-step-on-load="checkMultisitesSSL"
             data-wizard-step-on-next="generateCertif"
             data-wizard-step-valid="ctrl.isStepOneValid()">

            <div class="text-center" data-ng-if="ctrl.loading.init || ctrl.loading.duration || ctrl.loading.generateCertif">
                <oui-spinner></oui-spinner>
            </div>

            <!-- FREE CERTIFICATE -->
            <div data-ng-if="!(ctrl.loading.init || ctrl.loading.duration || ctrl.loading.generateCertif)">
                <div data-ng-if="ctrl.sslType === 'import'">
                    <p data-i18n-static="hosting_dashboard_ssl_order_choose_mode"></p>
                    <form name="hostingOrderSslImportForm">
                        <label class="oui-label" for="manualModeCertif"
                               data-i18n-static="hosting_dashboard_ssl_order_manual_mode_certif"></label>
                        <textarea class="oui-textarea" id="manualModeCertif" rows="7"
                                  data-ng-model="ctrl.manualMode.certificate">
                        </textarea>
                        <label class="oui-label" for="manualModeKey"
                               data-i18n-static="hosting_dashboard_ssl_order_manual_mode_key"></label>
                        <textarea class="oui-textarea" id="manualModeKey" rows="7"
                                  data-ng-model="ctrl.manualMode.key">
                        </textarea>
                        <label class="oui-label" for="manualModeChain"
                               data-i18n-static="hosting_dashboard_ssl_order_manual_mode_chain"></label>
                        <textarea class="form-control" id="manualModeChain" rows="7"
                                  data-ng-model="ctrl.manualMode.chain">
                        </textarea>
                    </form>
                </div>
                <p data-ng-if="ctrl.sslType === 'payable'"
                   data-i18n-static="hosting_dashboard_ssl_order_pay"></p>
            </div>
        </div>

        <div data-wizard-step
             data-wizard-step-valid="!ctrl.loading.order">
            <div class="text-center" data-ng-if="ctrl.loading.order">
                <oui-spinner></oui-spinner>
            </div>
            <p data-i18n-static="hosting_dashboard_ssl_order_validation"
               data-ng-if="!ctrl.loading.order"></p>
        </div>
    </div>
</div>
