<form class="form-horizontal" name="ctrl.zoneRecordForm">

    <div data-ng-include="'domain/zone/record/header.html'"></div>

    <div class="form-group">
        <label class="control-label col-md-3" for="v"
               data-i18n-static="domain_configuration_dns_entry_add_version"></label>
        <div class="col-md-9 pt-2">
            <oui-checkbox id="v" name="v"
                data-model="ctrl.model.target.v.DKIM1"
                data-on-change="ctrl.setTargetValue('DKIM')"
                data-text="DKIM1">
            </oui-checkbox>
        </div>
    </div>

    <div class="form-group" data-ng-class="{ 'has-error': ctrl.zoneRecordForm.g.$dirty && ctrl.zoneRecordForm.g.$invalid }">
        <label class="control-label col-md-3" for="g"
               data-i18n-static="domain_configuration_dns_entry_add_granularity"></label>
        <div class="col-md-9">
            <input type="text" class="form-control" id="g" name="g" maxlength="255"
                   data-ng-change="ctrl.setTargetValue('DKIM')"
                   data-ng-maxlength="255"
                   data-ng-model="ctrl.model.target.g"
                   data-ng-pattern="ctrl.DomainValidator.regex.DKIM_g">
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-3"
               data-i18n-static="domain_configuration_dns_entry_add_algorithm_hash"></label>
        <div class="col-md-9 pt-2">
            <oui-checkbox name="h" id="h-sha1"
                data-model="ctrl.model.target.h.sha1"
                data-on-change="ctrl.setTargetValue('DKIM')"
                data-text="SHA-1">
            </oui-checkbox>
            <oui-checkbox name="h" id="h-sha256"
                data-model="ctrl.model.target.h.sha256"
                data-on-change="ctrl.setTargetValue('DKIM')"
                data-text="SHA-256">
            </oui-checkbox>
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-3" for="k"
               data-i18n-static="domain_configuration_dns_entry_add_algorithm_key"></label>
        <div class="col-md-9">
            <oui-checkbox id="k" name="k"
                data-model="ctrl.model.target.k.rsa"
                data-on-change="ctrl.setTargetValue('DKIM')"
                data-text="RSA">
            </oui-checkbox>
        </div>
    </div>

    <div class="form-group" data-ng-class="{ 'has-error': ctrl.zoneRecordForm.n.$dirty && ctrl.zoneRecordForm.n.$invalid }">
        <label class="control-label col-md-3" for="n"
               data-i18n-static="domain_configuration_dns_entry_add_notes"></label>
        <div class="col-md-9">
            <input type="text" class="form-control" id="n" name="n" maxlength="255"
                   data-ng-change="ctrl.setTargetValue('DKIM')"
                   data-ng-maxlength="255"
                   data-ng-model="ctrl.model.target.n"
                   data-ng-pattern="ctrl.DomainValidator.regex.DKIM_n">
        </div>
    </div>

    <div class="form-group" data-ng-class="{ 'has-error': ctrl.zoneRecordForm.p.$dirty && ctrl.zoneRecordForm.p.$invalid && !ctrl.model.target.pRevoke }">
        <label class="control-label col-md-3 required" for="p"
               data-i18n-static="domain_configuration_dns_entry_add_publickey"></label>
        <div class="col-md-9">
            <textarea class="form-control" id="p" name="p" maxlength="4096"
                      data-ng-change="ctrl.setTargetValue('DKIM')"
                      data-ng-disabled="ctrl.model.target.pRevoke"
                      data-ng-maxlength="4096"
                      data-ng-minlength="32"
                      data-ng-model="ctrl.model.target.p"
                      data-ng-pattern="ctrl.DomainValidator.regex.DKIM_p"
                      data-ng-required="!ctrl.model.target.pRevoke"
                      data-ng-trim="false"></textarea>
            <oui-checkbox class="mt-3" id="pRevoke" name="pRevoke"
                data-ng-click="ctrl.model.target.p = ''"
                data-model="ctrl.model.target.pRevoke"
                data-on-change="ctrl.setTargetValue('DKIM')"
                data-text="{{::i18n.domain_configuration_dns_entry_add_publickey_revoke}}">
            </oui-checkbox>
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-3"
               data-i18n-static="domain_configuration_dns_entry_add_servicetypes"></label>
        <div class="col-md-9" data-ng-init="ctrl.model.target.s = ''">

                <oui-radio text="{{::tr('domain_configuration_dns_entry_add_servicetypes_all')}}"
                        on-change="ctrl.setTargetValue('DKIM')"
                        model="ctrl.model.target.s"
                        name="dkim-type"
                        value="'*'">
                </oui-radio>

                <oui-radio text="{{::tr('domain_configuration_dns_entry_add_servicetypes_email')}}"
                        on-change="ctrl.setTargetValue('DKIM')"
                        model="ctrl.model.target.s"
                        name="dkim-type"
                        value="'email'">
                </oui-radio>

                <oui-radio text="{{::tr('domain_configuration_dns_entry_add_servicetypes_none')}}"
                        on-change="ctrl.setTargetValue('DKIM')"
                        model="ctrl.model.target.s"
                        name="dkim-type"
                        value="''" checked>
                </oui-radio>
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-3"
               data-i18n-static="domain_configuration_dns_entry_add_t_y"></label>
        <div class="col-md-9" data-ng-init="ctrl.model.target.t.y = false">

            <oui-radio text="{{::tr('domain_configuration_dns_entry_add_t_y_no')}}"
                    on-change="ctrl.setTargetValue('DKIM')"
                    model="ctrl.model.target.t.y"
                    name="dkim-test-mode"
                    value="false" checked>
            </oui-radio>

            <oui-radio text="{{::tr('domain_configuration_dns_entry_add_t_y_yes')}}"
                    on-change="ctrl.setTargetValue('DKIM')"
                    model="ctrl.model.target.t.y"
                    name="dkim-test-mode"
                    value="true">
            </oui-radio>
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-3"
               data-i18n-static="domain_configuration_dns_entry_add_t_s"></label>
        <div class="col-md-9" data-ng-init="ctrl.model.target.t.s = true">

            <oui-radio text="{{::tr('domain_configuration_dns_entry_add_t_s_yes')}}"
                    on-change="ctrl.setTargetValue('DKIM')"
                    model="ctrl.model.target.t.s"
                    name="dkim-subdomain"
                    value="true" checked>
            </oui-radio>

            <oui-radio text="{{::tr('domain_configuration_dns_entry_add_t_s_no')}}"
                    on-change="ctrl.setTargetValue('DKIM')"
                    model="ctrl.model.target.t.s"
                    name="dkim-subdomain"
                    value="false">
            </oui-radio>
        </div>
    </div>

    <div data-ng-include="'domain/zone/record/bottom.html'"></div>
</form>
