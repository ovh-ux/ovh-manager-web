<div class="container-fluid px-0" data-ng-controller="PrivateDatabaseWhitelistCtrl as listCtrl">
    <div class="row">
        <div class="col-md-9">
            <div data-ovh-alert="{{alerts.main}}"></div>

            <div class="alert alert-warning" role="alert"
                 data-i18n-static="privateDatabase_tabs_whitelist_list_no_whitelist_info"
                 data-ng-if="listCtrl.isWhitelistEmpty()">
            </div>

            <h2 data-i18n-static="privateDatabase_add_authorized_ip_title"></h2>

            <oui-datagrid data-rows="listCtrl.whitelistIps"
                          data-row-loader="listCtrl.transformItem($row)">
                <oui-column data-title="tr('privateDatabase_tabs_whitelist_list_ip_network')" data-property="ip" data-sortable>
                    <span data-ng-bind="$row.ip"></span>
                </oui-column>
                <oui-column data-title="tr('privateDatabase_tabs_whitelist_list_service')" data-property="service">
                    <i class="oui-icon oui-icon-success"
                       data-ng-show="$row.service"
                       aria-hidden="true"></i>
                </oui-column>
                <oui-column data-title="tr('privateDatabase_tabs_whitelist_list_sftp')" data-property="sftp">
                    <i class="oui-icon oui-icon-success"
                       data-ng-show="$row.sftp"
                       aria-hidden="true"></i>
                </oui-column>
                <oui-column data-title="tr('privateDatabase_tabs_whitelist_list_status')" data-property="name">
                    <span class="label label-info"
                          data-ng-if="$row.creating"
                          data-i18n-static="privateDatabase_tabs_whitelist_list_status_creating"></span>
                    <span class="label label-info"
                          data-ng-if="$row.updating"
                          data-i18n-static="privateDatabase_tabs_whitelist_list_status_updating"></span>
                    <span class="label label-info"
                          data-ng-if="$row.deleting"
                          data-i18n-static="privateDatabase_tabs_whitelist_list_status_deleting"></span>
                    {{ $row.name | wrapOverflow: 50 }}
                </oui-column>
                <oui-action-menu data-align="end" data-compact>
                    <oui-action-menu-item data-text="{{::tr('privateDatabase_tabs_whitelist_list_popover_edit')}}"
                                          on-click="listCtrl.editWhitelist($row)">
                    </oui-action-menu-item>
                    <oui-action-menu-item data-text="{{::tr('privateDatabase_tabs_whitelist_list_popover_delete')}}"
                                          on-click="listCtrl.deleteWhitelist($row)">
                    </oui-action-menu-item>
                </oui-action-menu>
            </oui-datagrid>
        </div>

        <div class="col-md-3 mt-5 mt-lg-0">
            <button class="btn btn-block btn-default" type="button"
                    data-i18n-static="privateDatabase_tabs_whitelist_list_add_whitelist"
                    data-ng-click="listCtrl.createWhitelist()">
            </button>
        </div>
    </div>
</div>
