<div data-ng-controller="PrivateDatabaseArchiveListCtrl as archiveListCtrl">
    <div data-ovh-alert="{{alerts.main}}"></div>

    <oui-back-button
        data-on-click="goToList()"
        data-title="{{::tr('privateDatabase_tabs_dumps_archive_change', [nbDayToDelete])}}">
    </oui-back-button>

    <oui-datagrid data-rows="archiveListCtrl.deletedDbList">
        <oui-column data-title="::tr('privateDatabase_bdd_name')"
            data-property="databaseName"
            data-sortable
            data-type="string"
            data-searchable
            data-filterable>
        </oui-column>
        <oui-column data-title="::tr('privateDatabase_bdd_dumps_count')" data-property="dumps.length" data-sortable>
            <button class="btn btn-xs" type="button"
                    data-ng-bind="$row.dumps.length"
                    data-ng-class="{ 'btn-success': $row.dumps.length > 0, '$row-danger': !($row.dumps.length > 0) }"
                    data-ng-click="goToArchivesDumps($row)">
            </button>
        </oui-column>
        <oui-action-menu data-align="end" data-compact>
            <oui-action-menu-item data-text="{{::tr('privateDatabase_action_list_dumps')}}"
                                  data-on-click="goToArchivesDumps($row)">
            </oui-action-menu-item>
        </oui-action-menu>
    </oui-datagrid>

</div>
