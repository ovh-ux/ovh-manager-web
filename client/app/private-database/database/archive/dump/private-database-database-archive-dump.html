<div data-ng-controller="PrivateDatabaseArchiveDumpCtrl as archiveDumpCtrl">
    <div data-ovh-alert="{{alerts.main}}"></div>

    <oui-back-button
        data-on-click="goToArchivesList()"
        data-title="{{tr('privateDatabase_tabs_dumps_change') + ' ' + bdd.name}}">
    </oui-back-button>

    <oui-datagrid data-rows="bdd.dumps">
        <oui-column data-title="::tr('privateDatabase_bdd_name')"
            data-property="databaseName"
            data-sortable
            data-type="string"
            data-searchable
            data-filterable></oui-column>
        <oui-column data-title="::tr('privateDatabase_tabs_dumps_creation_date')"
            data-property="creationDate"
            data-sortable
            data-type="date"
            data-filterable>
            <span data-ng-bind="$row.creationDate | date: 'medium'"></span>
        </oui-column>
        <oui-column data-title="::tr('privateDatabase_tabs_dumps_deletion_date')"
            data-property="deletionDate"
            data-sortable
            data-type="date"
            data-filterable>
            <span data-ng-bind="$row.deletionDate | date: 'medium'"></span>
        </oui-column>
        <oui-action-menu data-align="end" data-compact>
            <oui-action-menu-item data-text="{{::tr('privateDatabase_tabs_dumps_download_dump')}}"
                                  data-on-click="goTo($row.url, '_blank')">
            </oui-action-menu-item>
            <oui-action-menu-item data-text="{{::tr('privateDatabase_tabs_dumps_restore_dump')}}"
                                  data-on-click="archiveDumpCtrl.restaureDumpRequest($row)">
            </oui-action-menu-item>
        </oui-action-menu>
    </oui-datagrid>

</div>
